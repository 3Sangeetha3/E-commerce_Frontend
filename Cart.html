<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <link rel="stylesheet" href="style.css">
    <script src="index.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- bootstarp stackpath cdn -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Bootstrap icons cdn-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        .ShopMore {
            background-color: black;
            font-size: 18px;
            font-weight: 700;
            outline: none;
            border-radius: 2px;
            border: none;
            color: aliceblue;
            padding: 13px 30px;
            cursor: pointer;
            text-transform: uppercase;
            transition: 0.5s ease-in-out;
            padding: 20px;
            width: 250px;
        }
        .ShopMore:hover {
            background-color: coral;
            color: black;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-dark py-4 fixed-top">
        <div class="container-fluid mr-5">
            <!-- <div class="col-1"></div> -->
            <img src="images/logo.webp" id="logo-img" alt="logo..">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span><i id = "nav-bar-icon" class="bi bi-list"></i></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./Shop.html">Shop</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="#">Quality</a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" href="./About.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./ContactUs.html">Contact Us</a>
                    </li>
                    <li class="nav-item" id="nav-icons">
                        <!-- <i class="bi bi-search"></i> -->
                        <a href="Login.html"><i class="bi bi-person-fill"></i></a>
                        <a href="#"><i class="bi bi-bag-heart-fill"></i></a>
                    </li>
                </ul>
            </div>    
        </div>
    </nav>

    <!-- cart section -->
    <section id="featured" class="mt-3 pt-1">
        <div class="container mx-auto mt-5 px-5 pt-5 text-center">
            <h3 class="mt-5 pt-5">Shopping Cart</h3>
            <hr class="border border-danger border-2 opacity-75 mx-auto">
        </div>
    </section>

    <section id="cart-container" class="container my-5">
        <table width="100%" id="cart-table">
            <thead>
                <tr>
                    <td>Remove</td>
                    <td>Image</td>
                    <td>Product</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Total</td>
                </tr>
            </thead>
            
            <tbody>
                
            </tbody>
        </table>
    </section>

    <section id="cart-bottom" class="container">
        <div class="row">
            <div class="coupon col-lg-6 col-md-6 col-12 mb-4">
                <div>
                    <h5>COUPON</h5>
                    <p>Enter the coupon code if you have one.</p>
                    <input type="text" placeholder="Coupon code">
                    <button>APPLY COUPON</button>
                </div>        
            </div>
            <div class="Total col-lg-6 col-md-6 col-12 mb-4">
                <div>
                    <h5>CART TOTAL</h5>
                    <div class="d-flex justify-content-between">
                        <h6>SubTotal</h6>
                        <p id="subtotal-value"></p>
                    </div>
                    <div class="d-flex justify-content-between">
                        <h6>Shipping</h6>
                        <p id="shhipping-value"></p>
                    </div>
                    <hr class="second-hr">
                    <div class="d-flex justify-content-between">
                        <h6>Total</h6>
                        <p id="total-value"></p>
                    </div>
                    <button class="ml-auto">PROCEED TO CHECKOUT</button>
                </div>        
            </div>
        </div>
    </section>
    

    <!-- Related Product section -->
    <section id="featured" class="my-5 pb-5">
        <div class="container text-center mt-5 py-5">
            <h3>Related Products</h3>
            <hr class="border border-danger border-2 opacity-75 mx-auto">
        </div>
        <div class="row mx-auto container-fluid">
            <div class="product text-center col-lg-3 col-md-4 col-12">
                <img class="img-fluid" src="images/leather/products/111image.jpg" alt="">
                <div class="star">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                </div>
                <h5 class="product-name">Classic Leather Flap</h5>
                <h4 class="product-price">Rs. 5,990</h4>
                <button class="buy-btn" onclick="window.location.href = 'sproduct4.html';">Buy Now</button>
            </div>
            <div class="product text-center col-lg-3 col-md-4 col-12">
                <img class="img-fluid" src="images/leather/products/49image.jpg" alt="">
                <div class="star">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                </div>
                <h5 class="product-name">Astor Leather Laptop Sleeve</h5>
                <h4 class="product-price">Rs. 7,990</h4>
                <button class="buy-btn" onclick="window.location.href = 'sproduct5.html';">Buy Now</button>
            </div>
            <div class="product text-center col-lg-3 col-md-4 col-12">
                <img class="img-fluid" src="images/leather/products/39image.jpg" alt="">
                <div class="star">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                </div>
                <h5 class="product-name">The Chronicle Leather Backpack Canvas</h5>
                <h4 class="product-price">Rs. 8,990</h4>
                <button class="buy-btn" onclick="window.location.href = 'sproduct6.html';">Buy Now</button>
            </div>
            <div class="product container text-center col-lg-3 col-md-4 col-12">
                <img class="img-fluid" src="images/leather/products/44image.jpg" alt="">
                <div class="star">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                </div>
                <h5 class="product-name">Business Card Case</h5>
                <h4 class="product-price">Rs. 990</h4>
                <button class="buy-btn" onclick="window.location.href = 'sproduct7.html';">Buy Now</button>
            </div>
            <button class="ShopMore my-5 mx-auto" onclick="window.location.href = 'Shop.html';">Shop More</button>
        </div>
    </section>


    <!-- Footer section -->
    <footer class="mt-5 p-5 bg-dark">
        <div class="row conatiner mx-auto pt-5">
        <div class="footer-one col-lg-3 col-md-6 col-12">
            <img id="logo-img-footer" src="images/logo.webp" alt="logo">
            <p class="py-3 pl-5 ml-5 mr-5">The Koza isn't a shop, it's a dream. It's a collaboration of creative minds. We are still on a journey of discovery, fuelled by a love for Leather, travel and nature.</p>
        </div>
        <div class="footer-one col-lg-3 col-md-6 col-12 mb-3">
            <h5 class="pb-2">Quick Links</h5>
            <ul class="text-uppercase list-unstyled">
                <li><a href="index.html">Home</a></li>
                <li><a href="Shop.html">Shop</a></li>
                <li><a href="About.html">About</a></li>
                <li><a href="./ContactUs.html">Contact us</a></li>
                <li><a href="Cart.html">Cart</a></li>
            </ul>
        </div>
        <div class="footer-one col-lg-3 col-md-6 col-12 mb-3">
            <h5 class="pb-2">Contact US</h5>
            <div>
            <h6 class="text-uppercase">Address</h6>
            <p>123 STREET NAME, CITY, INDIA</p>
            </div>
            <div>
            <h6 class="text-uppercase">Phone</h6>
            <p>+91 987654321</p>
            </div>
            <div>
            <h6 class="text-uppercase">Email</h6>
            <p>koza@gmail.com</p>
            </div>
        </div>
        <div class="Photos col-lg-3 col-md-6 col-12">
            <h5 class="pb-2">Photos</h5>
            <div class="row">
            <img class="footer-img img-fluid mb-2" src="images/home_img_1.jpg" alt="leather-img">
            <img class="footer-img img-fluid mb-2" src="images/about-img4.avif" alt="leather-img">
            <img class="footer-img img-fluid mb-2" src="images/aboout-img2.avif" alt="leather-img">
            <img class="footer-img img-fluid mb-2" src="images/about-img1.avif" alt="leather-img">
            <img class="footer-img img-fluid mb-2" src="images/about-img3.avif" alt="leather-img">
            </div>
        </div>
        </div>
        <div class="copyright mt-5">
        <div class="row container mx-auto">
            <div class="col-lg-3 col-md-6 col-12 mb-4">
            <img src="img/payment.png" alt="payment..logo">
            </div>

            <div class="col-lg-6 col-md-8 col-12 mb-2 mx-auto">
            <p>Koza eCommerce &copy; 2024 Koza.</p>
            </div>

            <div class="col-lg-3 col-md-6 col-12">
            <a href="#"><i class="bi bi-facebook"></i></a>
            <a href="#"><i class="bi bi-twitter"></i></a>
            <a href="#"><i class="bi bi-linkedin"></i></a>`
            <a href="#"><i class="bi bi-instagram"></i></a>
            </div>
        </div>
        </div>  
    </footer>

    <script>

        const cartData = window.localStorage.getItem('cart');
        const cart = JSON.parse(cartData); // {"id": "quantity", "id": "quantity"}
        
        console.log(productList) // {"id": {"name": "", "price": "", "image": ""}}
        
        // if cart is empty, then show a message "No items in cart"
        if (!cart || Object.keys(cart).length === 0) {
            document.querySelector('#cart-table tbody').innerHTML = '<tr><td colspan="6">No items in cart</td></tr>';
            document.querySelector('#subtotal-value').textContent = "0";
            document.querySelector('#shhipping-value').textContent = "0";
            document.querySelector('#total-value').textContent = "0";
        }
        else {
            Object.keys(cart).forEach((id) => {
                const product = productList[id];
                const quantity = cart[id];
                const total = product.price * quantity;
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td><button onclick="removeFromCart(${id})"><i class="bi bi-trash3"></i></td>
                    <td><img src="${product.image}" alt="product"></td>
                    <td><h5>${product.name}</h5></td>
                    <td><h5>Rs. ${product.price}</h5></td>
                    <td><input class="w-25 pl-1" type="number" value="${quantity}" disabled min="1" max="10"></td>
                    <td><h5>Rs. ${total}</h5></td>
                `;
                document.querySelector('#cart-table tbody').appendChild(tr);
            });

            const subtotal = Object.keys(cart).reduce((acc, id) => {
                const product = productList[id];
                const quantity = cart[id];
                return acc + product.price * quantity;
            }, 0);

            const shipping = 1200;

            document.querySelector('#subtotal-value').textContent = "Rs. " + subtotal;
            document.querySelector('#shhipping-value').textContent = "Rs. " + shipping;
            document.querySelector('#total-value').textContent = "Rs. " + (subtotal + shipping);
        }
    </script>

    <!-- bootstarp cdn -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>